{% extends 'base.html' %}
{% block content %}
<div class="col-md-6">
  <h3>Booker Book List</h3>
<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
	{% for book in books %}
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingOne">
      <h4 class="panel-title">
        <a role="button" data-toggle="collapse" data-parent="#accordion" href="#{{book.id}}" aria-expanded="{% if forloop.first %}true{%else%}false{%endif%}" aria-controls="{{book.id}}">
          {{book.title}}
        </a>
      </h4>
    </div>
    <div id="{{book.id}}" class="panel-collapse collapse {% if forloop.first %}in{%endif%}" role="tabpanel" aria-labelledby="headingOne">
      <div class="panel-body">
      	<p>{{book.description}}</p>
        <p><a href="{% url 'book_details' book_id=book.id %}" class="btn btn-sm btn-success">Rent Book</a></p>
        
      </div>
    </div>
  </div>
  {% endfor %}
  
</div>
	
</div>
<div class="col-md-6">
  <h3>Booker Cart</h3>
  <div class="well">
    
    <div class="table-responsive">
      <table class="table table-bordered">
        <tr><th>#</th><th>Book Title</th><th>Rent From</th><th>Rent To</th><th>Cost</th><th></th></tr>
        {% for item in cart %}
        <tr><td>{{ forloop.counter }}</td><td>{{item.book.title}}</td><td>{{item.start_date}}</td><td>{{item.stop_date}}</td><td>${{item.rent}}</td><td><a href="{% url 'delete_cart_item' book_id=item.book.id %}" class="btn btn-sm btn-danger">Delete</a></td></tr>
        {%endfor%}
      </table>
      {% if cart|length > 0 %}
      <a href="{% url 'clear_cart' %}" class="btn btn-warning btn-sm">Clear Cart List</a><strong class="pull-right">Total Cost: ${{cart.total_rental_cost}}</strong>
      {%else%}
      <strong>You have no Books in your cart</strong>
      {%endif%}
      
    </div>
  </div>
</div>
{% endblock %}